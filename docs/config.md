← [Back to Start](../README.md)

# Config reference

Use this checklist to decide which `arrconf/userconf.sh` values to edit before running the installer.

## Why
Clear defaults keep the stack reproducible. Changing only what you need reduces mistakes and makes reruns predictable.

## Do
### Start here (edit these first)
- **`LAN_IP`** – set to your Pi (example `192.168.1.50`). Required.
- **`LAN_DOMAIN_SUFFIX`** – defaults to `home.arpa`. Leave it unless you already use another private suffix.
- **`ARR_BASE`** – default `~/srv`. Change if you store Docker data elsewhere.
- **`DOWNLOADS_DIR` / `COMPLETED_DIR` / `MEDIA_DIR`** – point these at storage with enough space.
- **`TIMEZONE`** – set to your region (e.g. `Europe/Amsterdam`).

### DNS and networking
- **`ENABLE_LOCAL_DNS`** – `1` keeps the dnsmasq container running. Set `0` only if you plan to manage DNS manually.
- **`DNS_DISTRIBUTION_MODE`** – choose `router` or `per-device` (see [LAN DNS & network pre-start](lan-dns-network-setup.md)).
- **`UPSTREAM_DNS_1` / `UPSTREAM_DNS_2`** – public resolvers used when the Pi forwards queries. Defaults work for most homes.
- **`GLUETUN_CONTROL_PORT`** – keep `8000` unless another local service uses it.
- **`EXPOSE_DIRECT_PORTS`** – leave at `0` so Caddy is the only LAN entry point. Set `1` only if you need direct ports for testing.

### Credentials and security
- **`QBT_USER` / `QBT_PASS`** – update after first login to qBittorrent. Keep `.env` in sync.
- **`CADDY_BASIC_AUTH_USER` / `CADDY_BASIC_AUTH_HASH`** – rotated automatically by `./arrstack.sh --rotate-caddy-auth`. Leave blank to let the script manage them.
- **`GLUETUN_API_KEY`** – generated by the installer. Do not edit by hand; use `./arrstack.sh --rotate-api-key` when needed.
- **`QBT_AUTH_WHITELIST`** – CIDR list that can bypass qBittorrent’s login. Leave default to restrict access to loopback.

### Media apps and images
- **`QBT_DOCKER_MODS`** – Vuetorrent skin for qBittorrent. Keep default unless you know you need a different mod.
- **Image tags (`*_IMAGE`)** – pinned to known-good releases. Update only after reading [Version management](VERSION_MANAGEMENT.md).
- **Service ports (`*_PORT`)** – these become LAN ports if you enable direct exposure. Otherwise Caddy serves everything on 80/443.

### Advanced flags (rarely change)
- **`ASSUME_YES`** – set to `1` only for unattended installs.
- **`FORCE_ROTATE_API_KEY`**, **`FORCE_REGEN_CADDY_AUTH`**, **`SETUP_HOST_DNS`**, **`REFRESH_ALIASES`** – automation knobs used by `arrstack.sh`. Trigger them with command-line flags instead of editing the file directly.

After editing, save the file and keep `arrconf/userconf.sh` out of version control (it is already ignored).

## Verify
Run the installer in summary mode to confirm your values:
```bash
./arrstack.sh --yes
```
Review the printed configuration table before containers start. Cancel with `Ctrl+C` if something looks wrong, adjust the file, and rerun.

## See also
- [Quick start](../README.md)
- [LAN DNS & network pre-start](lan-dns-network-setup.md)
- [Host DNS helper](host-dns-helper.md)
- [Version management](VERSION_MANAGEMENT.md)
